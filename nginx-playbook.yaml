---
- name: Deploy Docker container
  hosts: ansible_client
  become: true
  tasks:
  - name: pull an image
    docker_image:
      name: nginx
      source: pull
  - name: Create volume
    docker_volume:
      name: nginx-data
      driver: local
  - name: Run nginx Docker container
    docker_container:
      name: nginx
      image: nginx
      state: started
      ports:
        - "8000:80"
      volumes:
        - "nginx-data:/usr/share/nginx/html:ro"
